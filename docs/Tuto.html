
<!DOCTYPE html>

<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tuto &#8212; Documentation Abeille 12.12.2019</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/translations.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">Documentation Abeille 12.12.2019</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Tuto</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tuto">
<h1>Tuto<a class="headerlink" href="#tuto" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="scenario-1">
<h2>Scénario 1<a class="headerlink" href="#scenario-1" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pilotage d’une ampoule à partir d’un capteur de présence avec un scénario</p>
<div class="section" id="pre-requis">
<h3>Pré-requis<a class="headerlink" href="#pre-requis" title="Lien permanent vers ce titre">¶</a></h3>
<ul class="simple">
<li><p>Ampoule IKEA incluse (Dans cette exemple : le nom de l’objet est « Ampoule »)</p></li>
<li><p>Capteur de présence inclus (Dans cette exemple : le nom de l’objet est « Capteur »)</p></li>
<li><p>Télécommande IKEA incluse (Dans cette exemple : le nom de l’objet est « Tele »)</p></li>
</ul>
</div>
<div class="section" id="realisation">
<h3>Réalisation<a class="headerlink" href="#realisation" title="Lien permanent vers ce titre">¶</a></h3>
<p>Nous allons utiliser les scénarios:</p>
<img alt="_images/Capture_d_ecran_2018_10_30_a_10_33_20.png" src="_images/Capture_d_ecran_2018_10_30_a_10_33_20.png" />
<p>Créons un scénario « test » avec pour déclencheur « Présence ».</p>
<img alt="_images/Capture_d_ecran_2018_10_30_a_10_38_29.png" src="_images/Capture_d_ecran_2018_10_30_a_10_38_29.png" />
<p>Et les actions:</p>
<img alt="_images/Capture_d_ecran_2018_10_30_a_10_40_48.png" src="_images/Capture_d_ecran_2018_10_30_a_10_40_48.png" />
<p>Ici, quand une présence est détectée, on allume l’ampoule et quand la présence n’est pas activée on éteint l’ampoule.</p>
</div>
</div>
<div class="section" id="scenario-2">
<h2>Scénario 2<a class="headerlink" href="#scenario-2" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pilotage d’une ampoule à partir d’un capteur de présence avec un scénario (=Scenario 1) plus commande de cette même ampoule à l’aide d’une télécommande physique.</p>
<p>Présence-&gt;Ampoule&lt;-Télécommande</p>
<p>Continuons en configurant l’ampoule depuis la « Tele »:</p>
<ul class="simple">
<li><p>Allumer l’ampoule.</p></li>
<li><p>Approcher la télécommande à quelques centimètres de l’ampoule</p></li>
<li><p>Appuyer plus de 10s sur le bouton OO au dos de la télécommande: la led rouge sur la face avant de la télécommande doit clignoter et l’ampoule doit se mettre à à clignoter.</p></li>
</ul>
<p>La télécommande pilote l’ampoule et l’ampoule remonte son état à Jeedom.</p>
</div>
<div class="section" id="scenario-3">
<h2>Scenario 3<a class="headerlink" href="#scenario-3" title="Lien permanent vers ce titre">¶</a></h2>
<p>Vous avez des télécommandes réelles incluses dans le réseau zigbee. Par exemple une télécommande ronde 5 boutons Ikea. Si vous avez associé des ampoules (ou une seule) avec elle vous pouvez télécommander les ampoules simultanémant directement depuis la télécommande réelle. Mais vous ne pouvez pas le faire depuis Jeedom. Comment faire ? Normalement cette télécommande est aussi dans dans Abeille. Ouvrez les paramètres (deuxième tab) et ajoutez le groupe de votre télécommande réelle. Maintenant vous pouvez commander depuis Abeille/Jeedom.</p>
<p>Ci dessous exemple avec le groupe « ABCD ».</p>
<img alt="_images/Capture_d_ecran_2019_06_20_a_16_25_15.png" src="_images/Capture_d_ecran_2019_06_20_a_16_25_15.png" />
</div>
<div class="section" id="scenario-4">
<h2>Scénario 4<a class="headerlink" href="#scenario-4" title="Lien permanent vers ce titre">¶</a></h2>
<p>Récupérer les boutons d’une télécommande dans Jeedom.</p>
<div class="section" id="fonctionnement">
<h3>Fonctionnement<a class="headerlink" href="#fonctionnement" title="Lien permanent vers ce titre">¶</a></h3>
<p>Le principe est qu’une télécommande zigbee (Ikea, Hue,..) envoie des commandes directement à un <a class="reference internal" href="Groups.html"><span class="doc">Groupes</span></a> d’équipements zigbee (Ampoules,…) qui agissent en fonction. Mais dans la configuration de base la ZiGate ne prend pas en compte ces messages. Le firmware ZiGate a donc été modifier pour traiter ces messages. L’idée a été de faire passer la ZiGate pour un équipement classique qui réagit aux messages de groupes. La réaction est d’envoyer un message à Abeille/Jeedom. Cela suppose que la ZiGate possède l’adresse de groupe auquel elle doit réagir.</p>
</div>
<div class="section" id="id1">
<h3>Pré-requis<a class="headerlink" href="#id1" title="Lien permanent vers ce titre">¶</a></h3>
<p>Vous avez une télécommande dans votre réseau zigbee et vous connaissez le groupe qu’elle utilise.</p>
</div>
<div class="section" id="id2">
<h3>Réalisation<a class="headerlink" href="#id2" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pour connaitre les groupes configurés dans la zigate allez dans la page de configuration du plugin, sélectionnez la zigate et faite un « Get Group ».</p>
<img alt="_images/Capture_d_ecran_2019_05_28_a_23_36_22.png" src="_images/Capture_d_ecran_2019_05_28_a_23_36_22.png" />
<p>Si la zigate possede un groupe alors on doit avoir quelque chose comme:</p>
<img alt="_images/Capture_d_ecran_2019_05_28_a_23_36_39.png" src="_images/Capture_d_ecran_2019_05_28_a_23_36_39.png" />
<p>Ici elle indique réagir au groupe « 0001 » (Colonne « Membre » / C’est une valeur hexadécimale de 4 digits).</p>
<p>Si elle ne possède pas de groupe ajoutez le groupe de votre télécommande. Je vais prendre pour exemple une télécommande Ikea et leur donner le groupe « ABCD ».</p>
<p>Pour se faire je sélectionne la ruche, je mets « ABCD » dans l’Id et j’appuie sur le bouton « Add Group ».</p>
<img alt="_images/Capture_d_ecran_2019_06_20_a_16_14_18.png" src="_images/Capture_d_ecran_2019_06_20_a_16_14_18.png" />
<p>Puis un « get group »:</p>
<img alt="_images/Capture_d_ecran_2019_06_20_a_16_14_38.png" src="_images/Capture_d_ecran_2019_06_20_a_16_14_38.png" />
<p>J’ai bien « ABCD » dans la zigate en plus de « 0001 ».</p>
<p>La zigate est limitée à 5 groupes.</p>
<p>Une fois la ZiGate configurée, vous devriez recevoir les informations sur l’objet Télécommande Ikea and Abeille.</p>
<img alt="_images/Capture_d_ecran_2019_06_20_a_17_00_17.png" src="_images/Capture_d_ecran_2019_06_20_a_17_00_17.png" />
<p>En fonction des boutons sur lesquels vous avez appuyé, les commandes de la télécommande doivent se mettre à jour. Commande Up-Down pour les bouton Haut et Bas, etc…
Vous trouverez la table de correspondance ici <a class="reference internal" href="Ikea.html#telecommande-ikea-recuperation"><span class="std std-ref">Récupération</span></a>.</p>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table des matières</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tuto</a><ul>
<li><a class="reference internal" href="#scenario-1">Scénario 1</a><ul>
<li><a class="reference internal" href="#pre-requis">Pré-requis</a></li>
<li><a class="reference internal" href="#realisation">Réalisation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario-2">Scénario 2</a></li>
<li><a class="reference internal" href="#scenario-3">Scenario 3</a></li>
<li><a class="reference internal" href="#scenario-4">Scénario 4</a><ul>
<li><a class="reference internal" href="#fonctionnement">Fonctionnement</a></li>
<li><a class="reference internal" href="#id1">Pré-requis</a></li>
<li><a class="reference internal" href="#id2">Réalisation</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Tuto.rst.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">Documentation Abeille 12.12.2019</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Tuto</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, KiwiHC16.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>